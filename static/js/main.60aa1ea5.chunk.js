(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{42:function(e,t,c){},44:function(e,t,c){},47:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t),c.d(t,"auth",(function(){return U})),c.d(t,"firestore",(function(){return M}));var s=c(2),a=c.n(s),n=c(32),i=c.n(n),r=(c(42),c(16)),o=c(17),l=c(19),u=c(18),d=c(26),m=c(20),p=c.n(m),h=c(23),j=c(5),g=c(33),b=(c(44),c(13)),f=c(1);c(29);var O=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).writeName=function(e){var t=e.target.value;s.setState({name:t.replace(/[^a-zA-Z0-9\u0430-\u044f\u0410-\u042f]/g,"")})},s.writeEmail=function(e){var t=e.target.value;s.setState({email:t.replace(/[^a-zA-Z0-9@.]/g,"")})},s.writePassword=function(e){var t=e.target,c=t.value,a=t.id;s.setState(Object(g.a)({},a,c.replace(/[^a-zA-Z0-9]/g,"")))},s.validate=function(e,t,c,s){return(""!==e||""!==t||""!==c||""!==s)&&!(c!==s||c.length<6)},s.singUp=function(){s.setState({chat:"GENERAL1"});var e=document.querySelectorAll(".input_form_sign");document.querySelectorAll(".ul_tabs > li")[0].className="",document.querySelectorAll(".ul_tabs > li")[1].className="active";for(var t=0;t<e.length;t++)1===t&&2===t||(document.querySelectorAll(".input_form_sign")[t].className="input_form_sign d_block");setTimeout((function(){for(var t=0;t<e.length;t++)document.querySelectorAll(".input_form_sign")[t].className=4!==t&&5!==t?"input_form_sign d_block active_inp":"input_form_sign d_block"}),100),document.querySelector(".s-in").classList.add("none"),document.querySelector(".s-up").classList.remove("none")},s.signIn=function(){var e=document.querySelectorAll(".input_form_sign");document.querySelectorAll(".ul_tabs > li")[0].className="active",document.querySelectorAll(".ul_tabs > li")[1].className="";for(var t=0;t<e.length;t++)switch(t){case 1:case 2:break;default:document.querySelectorAll(".input_form_sign")[4].value="GENERAL1",document.querySelectorAll(".input_form_sign")[t].className="input_form_sign d_block"}setTimeout((function(){for(var t=0;t<e.length;t++)switch(t){case 1:case 2:break;default:document.querySelectorAll(".input_form_sign")[t].className="input_form_sign d_block",document.querySelectorAll(".input_form_sign")[2].className="input_form_sign d_block active_inp",document.querySelectorAll(".input_form_sign")[4].className="input_form_sign d_block active_select"}}),100),document.querySelector(".s-up").classList.add("none"),document.querySelector(".s-in").classList.remove("none")},s.signUpAccount=function(){s.validate(s.state.name,s.state.email,s.state.password,s.state.confirmPassword)?b.a.auth().createUserWithEmailAndPassword(s.state.email,s.state.password).then((function(e){e.user.updateProfile({photoURL:"https://i.postimg.cc/PqxQPJ8h/iconfinder-Male-mongolian-skin-03-7724091.png",displayName:s.state.name}),alert("\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0439")})):alert("err")},s.signInAccount=function(){s.props.chatSelection(s.state.chat),""===s.state.email?alert("\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u044f"):""===s.state.password?alert("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c"):document.querySelector("#chatPassword").classList.contains("active_inp")&&""===s.state.chatPassword?alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e \u0447\u0430\u0442\u0443 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c"):document.querySelector("#chatPassword").classList.contains("active_inp")&&"000000"!==s.state.chatPassword?alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e \u0447\u0430\u0442\u0443 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0439"):b.a.auth().signInWithEmailAndPassword(s.state.email,s.state.password).then((function(e){s.props.user(!0),console.log(e)})).catch((function(e){"auth/wrong-password"===e.code?alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):"auth/user-not-found"===e.code?alert("\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0437 \u0442\u0430\u043a\u043e\u044e \u0430\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u044e \u0430\u0434\u0440\u0435\u0441\u043e\u044e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"):alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430")}))},s.chatSelection=function(e){var t=e.target.value;s.setState({chat:t}),"PRIVATE1"===t?document.querySelector("#chatPassword").classList.add("active_inp"):document.querySelector("#chatPassword").classList.remove("active_inp")},s.state={name:"",email:"",password:"",confirmPassword:"",chatPassword:"",chat:""},s}return Object(o.a)(c,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"cont_principal",children:Object(f.jsx)("div",{className:"cont_centrar",children:Object(f.jsxs)("div",{className:"cont_login",children:[Object(f.jsx)("div",{className:"cont_tabs_login",children:Object(f.jsxs)("ul",{className:"ul_tabs",children:[Object(f.jsxs)("li",{className:"active",children:[Object(f.jsx)("p",{onClick:this.signIn,children:"SIGN IN"}),Object(f.jsx)("span",{className:"linea_bajo_nom"})]}),Object(f.jsxs)("li",{children:[Object(f.jsx)("p",{onClick:this.singUp,children:"SIGN UP"}),Object(f.jsx)("span",{className:"linea_bajo_nom"})]})]})}),Object(f.jsxs)("div",{className:"cont_text_inputs",children:[Object(f.jsx)("input",{type:"text",className:"input_form_sign",id:"name",placeholder:"NAME",onInput:this.writeName,value:this.state.name}),Object(f.jsx)("input",{type:"text",className:"input_form_sign d_block active_inp",id:"email",placeholder:"EMAIL",onInput:this.writeEmail,value:this.state.email}),Object(f.jsx)("input",{type:"password",className:"input_form_sign d_block active_inp",id:"password",placeholder:"PASSWORD",onInput:this.writePassword,value:this.state.password}),Object(f.jsx)("input",{type:"password",className:"input_form_sign",id:"confirmPassword",placeholder:"CONFIRM PASSWORD",onInput:this.writePassword,value:this.state.confirmPassword}),Object(f.jsxs)("select",{className:"input_form_sign d_block active_select",onChange:this.chatSelection,children:[Object(f.jsx)("option",{value:"GENERAL1",defaultValue:!0,children:"GENERAL1"}),Object(f.jsx)("option",{value:"GENERAL2",children:"GENERAL2"}),Object(f.jsx)("option",{value:"PRIVATE1",children:"PRIVATE1"})]}),Object(f.jsx)("input",{type:"password",className:"input_form_sign d_block",id:"chatPassword",placeholder:"CHAT PASSWORD",onInput:this.writePassword,value:this.state.chatPassword})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"btn_sign s-in",onClick:this.signInAccount,children:"SIGN IN"}),Object(f.jsx)("button",{className:"btn_sign s-up none",onClick:this.signUpAccount,children:"SIGN UP"})]})]})})})}}]),c}(a.a.Component),v=c(37),_=(c(47),"https://i.postimg.cc/PqxQPJ8h/iconfinder-Male-mongolian-skin-03-7724091.png"),x="https://i.postimg.cc/SRWWwzHL/iconfinder-Male-caucasian-skin-01-7724120.png",N="https://i.postimg.cc/g24Kz8jN/iconfinder-Male-caucasian-skin-03-7724122.png",S="https://i.postimg.cc/7LWM74gz/iconfinder-Male-mongolian-skin-05-7724093.png",w="https://i.postimg.cc/gj9VSKtk/iconfinder-Male-caucasian-skin-07-7724135.png",y="https://i.postimg.cc/T2nfPM5N/iconfinder-Male-caucasian-skin-02-7724121.png",A="https://i.postimg.cc/NM28kn4z/iconfinder-Female-caucasian-skin-05-7724096.png",k="https://i.postimg.cc/ZK8cQ1Sk/iconfinder-Female-mongolian-skin-03-7724116.png",P="https://i.postimg.cc/MHv7dpSx/iconfinder-Female-mongolian-skin-05-7724084.png",q=c(35),E=(c(31),function(e){var t="",c=U.currentUser.photoURL,a=Object(q.a)(b.a.firestore().collection(e.chat).orderBy("createdAt")),n=Object(v.a)(a,2),i=n[0],r=n[1],o=function(){var s=Object(h.a)(p.a.mark((function s(){return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:""!==t&&(b.a.firestore().collection(e.chat).add({uid:U.currentUser.uid,name:U.currentUser.displayName,photoURL:c,data:l(new Date),text:t,createdAt:b.a.firestore.FieldValue.serverTimestamp()}),document.querySelector(".msger-chat").scrollTop=document.querySelector(".msger-chat").scrollHeight,document.querySelector(".msger-input").value="");case 1:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),l=function(e){var t="0"+e.getHours(),c="0"+e.getMinutes();return"".concat(t.slice(-2),":").concat(c.slice(-2))};return Object(s.useEffect)((function(){document.querySelectorAll(".dropdown-content img").forEach((function(e){e.src===c&&e.classList.add("icon-active")}))})),r?Object(f.jsx)("div",{}):Object(f.jsxs)("div",{className:"msger",children:[Object(f.jsxs)("div",{className:"msger-header",style:{display:"flex"},children:[Object(f.jsxs)("div",{className:"dropdown",children:[Object(f.jsx)("button",{className:"dropbtn",children:"Icon"}),Object(f.jsxs)("div",{className:"dropdown-content",onClick:function(e){document.querySelectorAll(".dropdown-content img").forEach((function(e){e.classList.remove("icon-active")})),e.target.classList.add("icon-active"),U.currentUser.updateProfile({photoURL:e.target.src}).then((function(){c=e.target.src}))},children:[Object(f.jsx)("img",{src:_,alt:""}),Object(f.jsx)("img",{src:x,alt:""}),Object(f.jsx)("img",{src:N,alt:""}),Object(f.jsx)("img",{src:S,alt:""}),Object(f.jsx)("img",{src:w,alt:""}),Object(f.jsx)("img",{src:y,alt:""}),Object(f.jsx)("img",{src:A,alt:""}),Object(f.jsx)("img",{src:k,alt:""}),Object(f.jsx)("img",{src:P,alt:""})]})]}),Object(f.jsxs)("p",{className:"mshger-info",children:["name: ",U.currentUser.displayName," ",Object(f.jsxs)("span",{style:{marginLeft:"20px"},children:["chat: ",e.chat]})]})]}),Object(f.jsx)("div",{className:"msger-chat",children:i.map((function(e){return Object(f.jsxs)("div",{className:"mar-btn",children:[Object(f.jsx)("div",{className:U.currentUser.uid===e.uid?"media-right":"media-left",children:Object(f.jsx)("img",{src:e.photoURL,className:"img-circle img-sm",alt:""})}),Object(f.jsx)("div",{className:U.currentUser.uid===e.uid?"media-body pad-hor speech-right":"media-body pad-hor",children:Object(f.jsxs)("div",{className:"speech",children:[Object(f.jsx)("a",{className:"media-heading",href:"/",onClick:function(e){return e.preventDefault()},children:e.name}),Object(f.jsx)("p",{className:"message-text",children:e.text}),Object(f.jsxs)("p",{className:"speech-time",children:[Object(f.jsx)("i",{className:"fa fa-clock-o fa-fw"}),e.data]})]})})]})}))}),Object(f.jsxs)("div",{className:"msger-inputarea",children:[Object(f.jsx)("input",{type:"text",className:"msger-input",placeholder:"Enter your message...",onInput:function(e){t=e.target.value},onKeyPress:function(e){"Enter"===e.key&&o()}}),Object(f.jsx)("button",{type:"submit",className:"msger-send-btn",onClick:o,children:"Send"})]})]})}),I=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(e){var s;return Object(r.a)(this,c),(s=t.call(this,e)).user=function(e){s.setState({user:e})},s.chatSelection=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?s.setState({chat:t}):s.setState({chat:"GENERAL1"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={user:!1,chat:""},s}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return this.state.user&&this.state.chat?Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/chat",render:function(){return Object(f.jsx)(E,{chat:e.state.chat})},exact:!0}),Object(f.jsx)(j.a,{to:"/chat"})]}):Object(f.jsxs)(j.d,{children:[Object(f.jsx)(j.b,{path:"/login",render:function(){return Object(f.jsx)(O,{user:e.user,chatSelection:e.chatSelection})},exact:!0}),Object(f.jsx)(j.a,{to:"/login"})]})}}]),c}(a.a.Component),L=function(e){Object(l.a)(c,e);var t=Object(u.a)(c);function c(){return Object(r.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(f.jsx)(d.a,{children:Object(f.jsx)(I,{})})}}]),c}(a.a.Component),R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))};c(29);b.a.initializeApp({apiKey:"AIzaSyBTSg8lBVeAJqmMAVgrqY1d1Og10EuvZZY",authDomain:"chat-c78d0.firebaseapp.com",projectId:"chat-c78d0",storageBucket:"chat-c78d0.appspot.com",messagingSenderId:"1015707863039",appId:"1:1015707863039:web:0041043496aba59d7789ca"});var U=b.a.auth(),M=b.a.firestore();i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root")),R()}},[[53,1,2]]]);
//# sourceMappingURL=main.60aa1ea5.chunk.js.map